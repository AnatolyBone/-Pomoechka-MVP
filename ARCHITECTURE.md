# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ "–ü–æ–º–æ–µ—á–∫–∞ –∫–æ—Ä–º–∏—Ç"

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Pomoechka-MVP/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Telegram Mini App
‚îú‚îÄ‚îÄ admin.html              # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css         # –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ config.js          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ api.js             # API —Å–ª–æ–π (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ data.js            # –†–∞–±–æ—Ç–∞ —Å localStorage –∏ –º–æ–∫-–¥–∞–Ω–Ω—ã–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ app.js             # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ server.js               # Node.js —Å–µ—Ä–≤–µ—Ä (Express)
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îî‚îÄ‚îÄ database.js        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ users.js           # API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ items.js            # API –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ reports.js         # API –¥–ª—è –∂–∞–ª–æ–±
‚îÇ   ‚îú‚îÄ‚îÄ analytics.js       # API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ admin.js           # API –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ auth.js            # Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ inject-env.js      # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–Ω–∂–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docs/                   # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Å–º. docs/README.md)
‚îÇ   ‚îú‚îÄ‚îÄ README.md          # –ò–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ QUICKSTART.md      # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOY.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
‚îÇ   ‚îî‚îÄ‚îÄ ...                # –î—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ package.json            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ README.md               # –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ARCHITECTURE.md         # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îî‚îÄ‚îÄ CHANGELOG.md            # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Frontend (Telegram Mini App)

#### 1. **index.html** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Telegram Mini App
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (`authScreen`)
  - –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`mainApp`)
  - –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (—Å–æ–∑–¥–∞—Ç–µ–ª—å, –≤—ã–±–æ—Ä –∫–∞—Ä—Ç—ã, —É—Å–ø–µ—Ö, –∂–∞–ª–æ–±–∞)
- **–≠–∫—Ä–∞–Ω—ã**:
  - `screen-map` - –ö–∞—Ä—Ç–∞ –Ω–∞—Ö–æ–¥–æ–∫
  - `screen-feed` - –õ–µ–Ω—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
  - `screen-add` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - `screen-profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `screen-detail` - –î–µ—Ç–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

#### 2. **js/config.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–°–æ–¥–µ—Ä–∂–∏—Ç**:
  - `CONFIG` - –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (API_URL, KARMA, LIFETIME –∏ —Ç.–¥.)
  - `ENV` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Telegram, –∞–¥–º–∏–Ω, —Å–æ–∑–¥–∞—Ç–µ–ª—å)
  - `hasBackend()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞

#### 3. **js/api.js** - API —Å–ª–æ–π
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**:
  1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±—ç–∫–µ–Ω–¥–∞ (`hasBackend()`)
  2. –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –¥–µ–ª–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã
  3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç localStorage (fallback)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `init()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API
  - `getItems()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
  - `getCurrentUser()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `createItem()` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - `isAdmin()` / `isCreator()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
  - `setupCreator()` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è

#### 4. **js/data.js** - –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage
- **–°–æ–¥–µ—Ä–∂–∏—Ç**:
  - `Storage` - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ localStorage
  - `Data` - –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (fallback)
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —É—Ç–∏–ª–∏—Ç—ã

#### 5. **js/app.js** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `showScreen()` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
  - `initMapScreen()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
  - `initFeedScreen()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–µ–Ω—Ç—ã
  - `publishItem()` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - `markAsTaken()` - –æ—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –∑–∞–±—Ä–∞–Ω–Ω–æ–µ
  - `extendItem()` - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### Backend (Node.js + Express + SQLite)

#### 1. **server.js** - –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  - CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤
  - Health check endpoint

#### 2. **db/database.js** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SQLite
- **–¢–∞–±–ª–∏—Ü—ã**:
  - `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - `items` - –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - `reports` - –∂–∞–ª–æ–±—ã
  - `admins` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
  - `settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

#### 3. **routes/** - API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

##### **auth.js**
- `GET /api/auth/check-admin` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
- `POST /api/auth/setup-creator` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è
- `GET /api/auth/me` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

##### **users.js**
- `GET /api/users/me` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /api/users/me` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/users/karma` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä–º—ã

##### **items.js**
- `GET /api/items` - —Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- `GET /api/items/:id` - –¥–µ—Ç–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `POST /api/items` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `PATCH /api/items/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `DELETE /api/items/:id` - —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `POST /api/items/:id/taken` - –æ—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –∑–∞–±—Ä–∞–Ω–Ω–æ–µ
- `POST /api/items/:id/extend` - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

##### **reports.js**
- `GET /api/reports` - —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–±
- `POST /api/reports` - —Å–æ–∑–¥–∞–Ω–∏–µ –∂–∞–ª–æ–±—ã

##### **analytics.js**
- `GET /api/analytics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

##### **admin.js**
- `GET /api/admin/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∫–∏
- `GET /api/admin/admins` - —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤
- `POST /api/admin/admins` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞
- `DELETE /api/admin/admins/:telegramId` - —É–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞

#### 4. **middleware/auth.js** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **–§—É–Ω–∫—Ü–∏–∏**:
  - `verifyTelegramAuth` - –ø—Ä–æ–≤–µ—Ä–∫–∞ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - `requireAdmin` - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
  - `requireCreator` - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ —Å–æ–∑–¥–∞—Ç–µ–ª—è
  - `getOrCreateUser` - –ø–æ–ª—É—á–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîÑ –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
1. index.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
2. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç—ã (config.js ‚Üí api.js ‚Üí data.js ‚Üí app.js)
3. DOMContentLoaded ‚Üí initApp()
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
6. API.init() ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞
7. getCurrentUser() ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
8. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (isAdmin/isCreator)
9. –ü–æ–∫–∞–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —ç–∫—Ä–∞–Ω–∞
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (screen-add)
2. publishItem() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
3. API.createItem() –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å
4. Backend: POST /api/items
5. Middleware: verifyTelegramAuth
6. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
7. –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI (–ø–æ–∫–∞–∑ —É—Å–ø–µ—Ö–∞)
9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

```
1. initMapScreen() / initFeedScreen()
2. API.getItems() —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
3. Backend: GET /api/items?status=active&maxDistance=2
4. SQL –∑–∞–ø—Ä–æ—Å —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
5. –í–æ–∑–≤—Ä–∞—Ç —Å–ø–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
6. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ –∫–∞—Ä—Ç–µ/–≤ –ª–µ–Ω—Ç–µ
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è

```
1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ creatorId
2. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑ –º–æ–¥–∞–ª–∫–∏ creatorSetupModal
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
4. setupCreator() ‚Üí API.setupCreator()
5. Backend: POST /api/auth/setup-creator
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞—Ç–µ–ª—è
7. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ admins (is_creator=1)
8. –í–æ–∑–≤—Ä–∞—Ç —É—Å–ø–µ—Ö–∞
9. –ü–æ–∫–∞–∑ –∫–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```

## üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞

1. **–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**
   - –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –ú–æ–∂–µ—Ç –±—Ä–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –ú–æ–∂–µ—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è

2. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** (`admins` —Ç–∞–±–ª–∏—Ü–∞, `is_creator=0`)
   - –í—Å–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   - –ú–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –ú–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∂–∞–ª–æ–±—ã

3. **–°–æ–∑–¥–∞—Ç–µ–ª—å** (`admins` —Ç–∞–±–ª–∏—Ü–∞, `is_creator=1`)
   - –í—Å–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
   - –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

- **Frontend**: `API.isAdmin()`, `API.isCreator()`
- **Backend**: `requireAdmin`, `requireCreator` middleware
- **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: Telegram User ID –∏–∑ `initData`

## üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### Backend (SQLite)

- **users**: –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **items**: –û–±—ä—è–≤–ª–µ–Ω–∏—è —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π
- **reports**: –ñ–∞–ª–æ–±—ã –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- **admins**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏ —Å–æ–∑–¥–∞—Ç–µ–ª—å
- **settings**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Frontend (localStorage)

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback, –µ—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Telegram CloudStorage (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- –ö–ª—é—á–∏: `pomoechka_items`, `pomoechka_user`, `pomoechka_settings`

## üåê API –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

```
Content-Type: application/json
X-Telegram-ID: <telegram_user_id>
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

**–£—Å–ø–µ—Ö:**
```json
{
  "id": 123,
  "title": "–î–∏–≤–∞–Ω",
  ...
}
```

**–û—à–∏–±–∫–∞:**
```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

## üó∫Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç

### –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∫–∞—Ä—Ç

–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞ –≤—ã–±–æ—Ä–∞:
- –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã
- 2–ì–ò–°
- Google Maps

–§–æ—Ä–º–∞—Ç URL:
- –Ø–Ω–¥–µ–∫—Å: `https://yandex.ru/maps/?pt={lng},{lat}&z=16`
- 2–ì–ò–°: `https://2gis.ru/search/{lat},{lng}`
- Google: `https://www.google.com/maps/search/?api=1&query={lat},{lng}`

## üìä –°–∏—Å—Ç–µ–º–∞ –∫–∞—Ä–º—ã

### –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫–∞—Ä–º—ã

- **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è**: +10
- **–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–±—Ä–∞–ª–∏**: +25
- **–ü—Ä–æ–¥–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**: +2
- **–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å**: +5

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –õ–∏–¥–µ—Ä–±–æ—Ä–¥ —Ä–∞–π–æ–Ω–∞
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

## üöÄ –î–µ–ø–ª–æ–π

### Frontend (Netlify)

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (`API_URL`)
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push

### Backend (Render)

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push
4. Health check endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Netlify:**
- `API_URL` - URL –±—ç–∫–µ–Ω–¥–∞

**Render:**
- `NODE_ENV` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (production/development)
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```javascript
// js/config.js
API_URL: window.location.hostname === 'localhost' 
    ? 'http://localhost:3000' 
    : 'https://pomoechka-mvp.onrender.com'
```

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### Frontend
- Telegram WebApp SDK (CDN)
- Tailwind CSS (CDN)

### Backend
- `express` - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `sqlite3` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `cors` - CORS middleware
- `body-parser` - –ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**
   - Frontend: UI –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
   - Backend: API –∏ –¥–∞–Ω–Ω—ã–µ

2. **Fallback –º–µ—Ö–∞–Ω–∏–∑–º**
   - –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí localStorage
   - Graceful degradation

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
   - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã
   - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –¥—Ä—É–≥—É—é –ë–î

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞** –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –ø—Ä–∏ setup-creator
2. **–í–µ–±—Å–æ–∫–µ—Ç—ã** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
3. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ Telegram Bot API
5. **–ß–∞—Ç** –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
6. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î** –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ö–µ–º—ã

