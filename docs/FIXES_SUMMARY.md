# –†–µ–∑—é–º–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. CONFIG –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Telegram
**–ü—Ä–æ–±–ª–µ–º–∞:** CONFIG –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è —Å –æ—à–∏–±–∫–∞–º–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–µ—Ä–Ω—É–ª `config.js` –≤ IIFE (Immediately Invoked Function Expression)
- –î–æ–±–∞–≤–∏–ª try-catch —Å fallback –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –î–æ–±–∞–≤–∏–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- –£–±–µ–¥–∏–ª—Å—è, —á—Ç–æ `window.CONFIG` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è

### 2. 401 Unauthorized - –±—ç–∫–µ–Ω–¥ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** Middleware –Ω–µ –ø–æ–ª—É—á–∞–ª `telegram_id` –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–ª —Ñ—É–Ω–∫—Ü–∏—é `getTelegramId()` –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏, query –∏ body
- –£–ª—É—á—à–∏–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ middleware
- –ò—Å–ø—Ä–∞–≤–∏–ª `routes/auth.js` - —Ç–µ–ø–µ—Ä—å `check-admin` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤–º–µ—Å—Ç–æ 401

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ API —Å–ª–æ—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–ø–∏—Å–∞–ª `api.js` —Å –µ–¥–∏–Ω—ã–º –º–µ—Ç–æ–¥–æ–º `request()`
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –º–µ—Ç–æ–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ |
|------|--------------|
| `js/config.js` | –û–±—ë—Ä–Ω—É—Ç –≤ IIFE, –¥–æ–±–∞–≤–ª–µ–Ω try-catch, fallback –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| `middleware/auth.js` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤, –¥–æ–±–∞–≤–ª–µ–Ω `getTelegramId()` |
| `routes/auth.js` | `check-admin` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤–º–µ—Å—Ç–æ 401, –¥–æ–±–∞–≤–ª–µ–Ω `/check-creator` |
| `js/api.js` | –£–ø—Ä–æ—â–µ–Ω—ã –º–µ—Ç–æ–¥—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏, –µ–¥–∏–Ω—ã–π –º–µ—Ç–æ–¥ `request()` |
| `index.html` | –î–æ–±–∞–≤–ª–µ–Ω eruda –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ |

## –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

```html
<!-- 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–µ—Ä–≤—ã–º!) -->
<script src="js/config.js"></script>

<!-- 2. API —Å–ª–æ–π -->
<script src="js/api.js"></script>

<!-- 3. –î–∞–Ω–Ω—ã–µ/—É—Ç–∏–ª–∏—Ç—ã -->
<script src="js/data.js"></script>

<!-- 4. –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<script src="js/app.js"></script>

<!-- 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üì¶ DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –æ–∂–∏–¥–∞–Ω–∏–µ CONFIG...');
        initApp();
    });
</script>
```

## –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å Eruda** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä—è–º–æ –≤ Telegram
2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
3. **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
4. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∏–¥–Ω–æ –≤—Å–µ —ç—Ç–∞–ø—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:

1. ‚úÖ CONFIG –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
2. ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
3. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ –û—à–∏–±–∫–∏ –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ Eruda

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å Eruda –≤ Telegram
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –≤ Network tab
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ Render

